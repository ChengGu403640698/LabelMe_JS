# LabelMe_JS 
预览地址: https://chenggu403640698.github.io/LabelMe_JS/newVersion.html

1. 项目功能
* 实现多图上传后预览（右侧预览去区域），媒体查询，当窗口尺寸较小的时候预览区至屏幕上侧
* 双击预览区中某一图片则选中至主要视图区
* 鼠标左键直接在视图区框定多边形轮廓至闭合，右击为取消当前所有轮廓
* 多边形轮廓封闭后可以形成mask，点击屏幕下方的输出区域作结果输出
* 输出png指输出成png格式的mask图，输出json格式指能被python包labelme_json_to_image识别的json数据表达格式

2. 项目动机
* 因为科研项目通过matlab编程，而通用的labelme工具是python编写的gui，在没有安装python的平台不能使用。
而且python编写的labelme软件的问题在于分割生成json数据并不是我直接可读的形式（jpg/bmp/png），还需要进一步转换。
为了方便在任何机器上进行分割生成数据集，因此编程实现了浏览器端能运行的本地分割小项目。

3. 不足与改进
* 由于项目最初只为适用于科研项目，因而只是实现了单目标的分割任务，对于多目标的分割以及目标检测并未提供支持，可以再做改进
* 对于dom的操作比较频繁，在性能方便还有待改进（减少回流）

4. 收获和难点
* 开始ReadFile().READASURL读取图片的src,直接赋值给新建的img标签元素，发现失败，后面发现加载过程是异步任务，需要通过onload回调进行后续操作，因此项目中将其封装成了promise
* 可视化的轮廓是通过canvas（html5）新特性来实现的，输出至bmp或者其他的数据格式使用了第三方库模块实现。

2020.9.29
